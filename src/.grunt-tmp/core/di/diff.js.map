{"version":3,"sources":["diff.js"],"names":["Zemit","app","factory","applyDifferences","scope","diff","inverse","jsondiffpatch","reverse","patch","getDifferences","left","right","angular","fromJson","toJson","diffpatcher","create","objectHash","obj","token"],"mappings":";;AAAA;;;;;;AAMA,CAAC,YAAW;AACXA,OAAMC,GAAN,CAAUC,OAAV,CAAkB,OAAlB,EAA2B,CAAC,YAAW;;AAEtC,MAAIA,UAAU;;AAEb;;;AAGAC,qBAAkB,0BAASC,KAAT,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+B;;AAEhD,QAAGA,OAAH,EAAY;AACXD,YAAOE,cAAcC,OAAd,CAAsBH,IAAtB,CAAP;AACA;;AAEDE,kBAAcE,KAAd,CAAoBL,KAApB,EAA2BC,IAA3B;AACA,IAZY;;AAcb;;;;;AAKAK,mBAAgB,wBAASC,IAAT,EAAeC,KAAf,EAAsB;;AAErCD,WAAOE,QAAQC,QAAR,CAAiBD,QAAQE,MAAR,CAAeJ,IAAf,CAAjB,CAAP;AACAC,YAAQC,QAAQC,QAAR,CAAiBD,QAAQE,MAAR,CAAeH,KAAf,CAAjB,CAAR;;AAEA,QAAII,cAAcT,cAAcU,MAAd,CAAqB;AACtCC,iBAAY,oBAASC,GAAT,EAAc;AACnB,aAAOA,IAAIC,KAAX;AACH;AAHkC,KAArB,CAAlB;;AAMA,WAAOJ,YAAYX,IAAZ,CAAiBM,IAAjB,EAAuBC,KAAvB,CAAP;AACA;AA/BY,GAAd;;AAkCA,SAAOV,OAAP;AACA,EArC0B,CAA3B;AAsCA,CAvCD","file":"diff.js","sourcesContent":["/**\n * Zemit Difference Manager\n * @author: <contact@dannycoulombe.com>\n * \n * Get and apply deep object differences\n */\n(function() {\n\tZemit.app.factory('$diff', [function() {\n\t    \n\t\tvar factory = {\n\t\t\t\n\t\t\t/**\n\t\t\t * Apply deep object differences\n\t\t\t */\n\t\t\tapplyDifferences: function(scope, diff, inverse) {\n\t\t\t\t\n\t\t\t\tif(inverse) {\n\t\t\t\t\tdiff = jsondiffpatch.reverse(diff);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tjsondiffpatch.patch(scope, diff);\n\t\t\t},\n\t\t\t\n\t\t\t/**\n\t\t\t * Get deep object differences\n\t\t\t * \n\t\t\t * Original script from: https://github.com/NV/objectDiff.js\n\t\t\t */\n\t\t\tgetDifferences: function(left, right) {\n\t\t\t\t\n\t\t\t\tleft = angular.fromJson(angular.toJson(left));\n\t\t\t\tright = angular.fromJson(angular.toJson(right));\n\t\t\t\t\n\t\t\t\tvar diffpatcher = jsondiffpatch.create({\n\t\t\t\t\tobjectHash: function(obj) {\n\t\t\t\t        return obj.token;\n\t\t\t\t    }\n\t\t\t    });\n\t\t\t\t\n\t\t\t\treturn diffpatcher.diff(left, right);\n\t\t\t}\n\t\t};\n\t\t\n\t\treturn factory;\n\t}]);\n})();"]}