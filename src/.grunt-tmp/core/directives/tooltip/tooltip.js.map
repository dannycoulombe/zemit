{"version":3,"sources":["tooltip.js"],"names":["Zemit","app","run","$debug","$hook","$i18n","add","init","get","directive","$util","restrict","scope","options","link","$s","$e","attrs","guid","$container","parents","$parent","length","defaultOptions","direction","parent","pointer","restraintToParent","condition","openTimeout","closeTimeout","offset","y","x","angular","extend","copy","$tooltip","tooltipOpenTimeout","tooltipCloseTimeout","tooltipCloseTimeoutInit","tooltipCloseTimeoutReady","$oriTooltip","element","$oriTooltipInner","addClass","append","$oriTooltipPointer","className","window","matchMedia","matches","hideTooltip","timeout","clearTimeout","setTimeout","log","zmTooltip","removeClass","remove","updatePos","top","left","$scrollContainer","minTop","minLeft","maxTop","outerHeight","innerHeight","maxLeft","outerWidth","innerWidth","newTop","scrollTop","newLeft","scrollLeft","toggleClass","css","attr","on","event","buttons","bounding","getBoundingClientRect","position","width","height","clone","children","html","ePos","halfWidth","halfHeight","tSize","cPos","bottom","right","Function","defaultPrevented","preventDefault","parseFloat","$on"],"mappings":"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","file":"tooltip.js","sourcesContent":["/**\n * @author <contact@dannycoulombe.com>\n */\n(function() {\n\t\n\t/**\n\t * Tooltip initialization\n\t */\n\tZemit.app.run(['$debug', '$hook', '$i18n', function($debug, $hook, $i18n) {\n\t\t$hook.add('onReady', () => $debug.init('tooltip', $i18n.get('core.directives.tooltip.debugTitle')));\n\t}]);\n\t\n\t/**\n\t * Creates a tooltip\n\t */\n\tZemit.app.directive('zmTooltip', ['$util', '$debug', function($util, $debug) {\n\t\treturn {\n\t\t\trestrict: \"A\",\n\t\t\tscope: {\n\t\t\t\toptions: '=?zmTooltipOptions'\n\t\t\t},\n\t\t\tlink: function($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tvar guid = $util.guid();\n\t\t\t\t\n\t\t\t\tvar $container = $e.parents('zemit:eq(0)');\n\t\t\t\tvar $parent = $container;\n\t\t\t\tif($container.length === 0) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet defaultOptions = {\n\t\t\t\t\tdirection: 'bottom',\n\t\t\t\t\tparent: null,\n\t\t\t\t\tpointer: true,\n\t\t\t\t\trestraintToParent: false,\n\t\t\t\t\tcondition: () => true,\n\t\t\t\t\topenTimeout: 0,\n\t\t\t\t\tcloseTimeout: 0,\n\t\t\t\t\toffset: {\n\t\t\t\t\t\ty: 0,\n\t\t\t\t\t\tx: 0\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tvar options = $s.options || defaultOptions;\n\t\t\t\tif($s.options) {\n\t\t\t\t\tangular.extend(options, defaultOptions, angular.copy(options));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Prepare the original tooltip element\n\t\t\t\tvar $tooltip;\n\t\t\t\tvar tooltipOpenTimeout;\n\t\t\t\tvar tooltipCloseTimeout;\n\t\t\t\tvar tooltipCloseTimeoutInit;\n\t\t\t\tvar tooltipCloseTimeoutReady = false;\n\t\t\t\t\n\t\t\t\tlet $oriTooltip = angular.element('<div />');\n\t\t\t\tlet $oriTooltipInner = angular.element('<div />');\n\t\t\t\t$oriTooltip.addClass('zm-tooltip');\n\t\t\t\t$oriTooltipInner.addClass('zm-tooltip-inner');\n\t\t\t\t$oriTooltip.append($oriTooltipInner);\n\t\t\t\t\n\t\t\t\tif(options.pointer) {\n\t\t\t\t\tlet $oriTooltipPointer = angular.element('<div />');\n\t\t\t\t\t$oriTooltipPointer.addClass('zm-tooltip-pointer');\n\t\t\t\t\t$oriTooltip.append($oriTooltipPointer);\n\t\t\t\t\t$oriTooltip.addClass('zm-tooltip-has-pointer')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(options.className) {\n\t\t\t\t\t$oriTooltip.addClass(options.className);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(!window.matchMedia('(pointer: coarse)').matches) {\n\t\t\t\t\t\n\t\t\t\t\tlet hideTooltip = (timeout = options.closeTimeout) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tclearTimeout(tooltipOpenTimeout);\n\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipCloseTimeoutReady = true;\n\t\t\t\t\t\ttooltipCloseTimeoutInit = setTimeout(() => {\n\t\t\t\t\t\t\tif($tooltip && tooltipCloseTimeoutReady) {\n\t\t\t\t\t\t\t\t$debug.log('tooltip', 'INVISIBLE', attrs.zmTooltip);\n\t\t\t\t\t\t\t\t$tooltip.addClass('zm-invisible').removeClass('zm-visible');\n\t\t\t\t\t\t\t\ttooltipCloseTimeout = setTimeout(function() {\n\t\t\t\t\t\t\t\t\t$debug.log('tooltip', 'REMOVE', attrs.zmTooltip);\n\t\t\t\t\t\t\t\t\tif($tooltip) {\n\t\t\t\t\t\t\t\t\t\t$tooltip.remove();\n\t\t\t\t\t\t\t\t\t\t$tooltip = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, 250);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, timeout);\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\tvar updatePos = (top, left, $scrollContainer = false) => {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet minTop = ($scrollContainer && $scrollContainer.offset().top) || 0;\n\t\t\t\t\t\tlet minLeft = ($scrollContainer && $scrollContainer.offset().left) || 0;\n\t\t\t\t\t\tlet maxTop = (($scrollContainer && $scrollContainer.offset().top + $scrollContainer.outerHeight()) || window.innerHeight) - $tooltip.outerHeight(true);\n\t\t\t\t\t\tlet maxLeft = (($scrollContainer && $scrollContainer.offset().left + $scrollContainer.outerWidth()) || window.innerWidth) - $tooltip.outerWidth(true);\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet newTop = top - ($scrollContainer && $scrollContainer.scrollTop());\n\t\t\t\t\t\tlet newLeft = left - ($scrollContainer && $scrollContainer.scrollLeft());\n\t\t\t\t\t\t\n\t\t\t\t\t\tnewTop = newTop < 0 ? 0 : newTop;\n\t\t\t\t\t\tnewLeft = newLeft < 0 ? 0 : newLeft;\n\t\t\t\t\t\tnewTop = newTop > maxTop ? maxTop : newTop;\n\t\t\t\t\t\tnewLeft = newLeft > maxLeft ? maxLeft : newLeft;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(options.restraintToParent) {\n\t\t\t\t\t\t\tnewTop = newTop < minTop ? minTop : newTop;\n\t\t\t\t\t\t\tnewLeft = newLeft < minLeft ? minLeft : newLeft;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$tooltip.toggleClass('zm-tooltip-affix-top', newTop === minTop);\n\t\t\t\t\t\t$tooltip.toggleClass('zm-tooltip-affix-bottom', newTop === maxTop);\n\t\t\t\t\t\t$tooltip.toggleClass('zm-tooltip-affix-left', newLeft === minLeft);\n\t\t\t\t\t\t$tooltip.toggleClass('zm-tooltip-affix-right', newLeft === maxLeft);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$tooltip.css('top', newTop).attr('data-top', top);\n\t\t\t\t\t\t$tooltip.css('left', newLeft).attr('data-left', left);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Creates tooltip when mouse enter the element\n\t\t\t\t\t$e.on('mouseover.zmTooltip', function(event) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!options.condition()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// If a button or tab is active, it's not necessary to show\n\t\t\t\t\t\t// the tooltip..\n\t\t\t\t\t\tif($e.parents('.active:eq(0)').length > 0) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\ttooltipOpenTimeout = setTimeout(() => {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\ttooltipCloseTimeoutReady = false;\n\t\t\t\t\t\t\tclearTimeout(tooltipCloseTimeout);\n\t\t\t\t\t\t\tclearTimeout(tooltipCloseTimeoutInit);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(!$tooltip && event.buttons === 0) {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet bounding = $e[0].getBoundingClientRect();\n\t\t\t\t\t\t\t\tlet position = $e.position();\n\t\t\t\t\t\t\t\tlet width = $e.outerWidth();\n\t\t\t\t\t\t\t\tlet height = $e.outerHeight();\n\t\t\t\t\t\t\t\t$tooltip = $oriTooltip.clone();\n\t\t\t\t\t\t\t\t$tooltip.children('.zm-tooltip-inner').html(attrs.zmTooltip);\n\t\t\t\t\t\t\t\t$container.append($tooltip);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$tooltip.addClass('zm-tooltip-' + options.direction);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Invert if not enough space\n\t\t\t\t\t\t\t\t// if(direction === 'top' && bounding.y + height >= $container.offset().top + $container.outerHeight()) {\n\t\t\t\t\t\t\t\t// \tdirection = 'bottom';\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t// else if(direction === 'bottom' && bounding.y + height >= $container.offset().top + $container.outerHeight()) {\n\t\t\t\t\t\t\t\t// \tdirection = 'top';\n\t\t\t\t\t\t\t\t// }\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet ePos = {\n\t\t\t\t\t\t\t\t\ttop: bounding.y,\n\t\t\t\t\t\t\t\t\tleft: bounding.x,\n\t\t\t\t\t\t\t\t\thalfWidth: (width / 2),\n\t\t\t\t\t\t\t\t\thalfHeight: (height / 2),\n\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\theight: height\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet tSize = {\n\t\t\t\t\t\t\t\t\thalfHeight: ($tooltip.outerHeight(true) / 2),\n\t\t\t\t\t\t\t\t\thalfWidth: ($tooltip.outerWidth(true) / 2),\n\t\t\t\t\t\t\t\t\twidth: $tooltip.outerWidth(true),\n\t\t\t\t\t\t\t\t\theight: $tooltip.outerHeight(true)\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet cPos = {\n\t\t\t\t\t\t\t\t\ttop: $container.offset().top + $parent.scrollTop(),\n\t\t\t\t\t\t\t\t\tleft: $container.offset().left + $parent.scrollLeft()\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlet top = 0;\n\t\t\t\t\t\t\t\tlet left = 0;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tswitch(options.direction) {\n\t\t\t\t\t\t\t\t\tcase 'top':\n\t\t\t\t\t\t\t\t\t\ttop = bounding.top - tSize.height + cPos.top;\n\t\t\t\t\t\t\t\t\t\tleft = bounding.left + ePos.halfWidth - tSize.halfWidth;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'bottom':\n\t\t\t\t\t\t\t\t\t\ttop = bounding.bottom - cPos.top;\n\t\t\t\t\t\t\t\t\t\tleft = bounding.left + ePos.halfWidth - tSize.halfWidth;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'left':\n\t\t\t\t\t\t\t\t\t\ttop = bounding.top + ePos.halfHeight - tSize.halfHeight + cPos.top;\n\t\t\t\t\t\t\t\t\t\tleft = bounding.left - tSize.width + cPos.left;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 'right':\n\t\t\t\t\t\t\t\t\t\ttop = bounding.top + ePos.halfHeight - tSize.halfHeight + cPos.top;\n\t\t\t\t\t\t\t\t\t\tleft = bounding.right + cPos.left;\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(options.offset.y && options.offset.y instanceof Function) {\n\t\t\t\t\t\t\t\t\ttop += options.offset.y($tooltip, $parent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(options.offset.y) {\n\t\t\t\t\t\t\t\t\ttop += options.offset.y;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif(options.offset.x && options.offset.x instanceof Function) {\n\t\t\t\t\t\t\t\t\tleft += options.offset.x($tooltip, $parent);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if(options.offset.x) {\n\t\t\t\t\t\t\t\t\tleft += options.offset.x;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tupdatePos(top, left, $parent);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(event.buttons === 0) {\n\t\t\t\t\t\t\t\t$tooltip.addClass('zm-visible').removeClass('zm-invisible');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$debug.log('tooltip', 'OVER', attrs.zmTooltip);\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}, options.openTimeout);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// Hide and remove tooltip when mouse leave the element\n\t\t\t\t\t$e.on('mouseout.zmTooltip', function(event) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!options.condition()) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!event.defaultPrevented) {\n\t\t\t\t\t\t\thideTooltip();\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$debug.log('tooltip', 'OUT', attrs.zmTooltip);\n\t\t\t\t\t\t\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tif(options.parent) {\n\t\t\t\t\t\t$parent = $e.parents(options.parent);\n\t\t\t\t\t\t\n\t\t\t\t\t\tif($parent.length === 0) {\n\t\t\t\t\t\t\t$parent = $container;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t$parent.on('scroll.zmTooltip', (event) => {\n\t\t\t\t\t\t\tif(!$tooltip) {\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tupdatePos(\n\t\t\t\t\t\t\t\tparseFloat($tooltip.attr('data-top')),\n\t\t\t\t\t\t\t\tparseFloat($tooltip.attr('data-left')),\n\t\t\t\t\t\t\t\t$parent\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$s.$on('documentClick', () => hideTooltip(0));\n\t\t\t\t\t$s.$on('$destroy', () => hideTooltip(0));\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}]);\n})();"]}