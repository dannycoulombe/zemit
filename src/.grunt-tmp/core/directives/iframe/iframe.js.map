{"version":3,"sources":["iframe.js"],"names":["Zemit","app","directive","$compile","restrict","scope","link","$s","$e","attrs","loading","$container","angular","element","$loading","wrap","before","addClass","onload","removeClass","$digest","$on","remove"],"mappings":";;AAAA;;;AAGA,CAAC,YAAW;;AAEX;;;AAGAA,OAAMC,GAAN,CAAUC,SAAV,CAAoB,QAApB,EAA8B,CAAC,UAAD,EAAa,UAASC,QAAT,EAAmB;AAC7D,SAAO;AACNC,aAAU,GADJ;AAENC,UAAO,IAFD;AAGNC,SAAM,cAASC,EAAT,EAAaC,EAAb,EAAiBC,KAAjB,EAAwB;;AAE7BF,OAAGG,OAAH,GAAa,IAAb;;AAEA,QAAIC,aAAaC,QAAQC,OAAR,CAAgB,qCAAhB,CAAjB;AACA,QAAIC,WAAWF,QAAQC,OAAR,CAAgB,kCAAhB,CAAf;;AAEAL,OAAGO,IAAH,CAAQJ,UAAR;AACAH,OAAGQ,MAAH,CAAUF,QAAV;;AAEAN,OAAGS,QAAH,CAAY,cAAZ;AACAT,OAAG,CAAH,EAAMU,MAAN,GAAe,YAAM;AACpBV,QAAGW,WAAH,CAAe,cAAf;AACAZ,QAAGG,OAAH,GAAa,KAAb;AACAH,QAAGa,OAAH;AACA,KAJD;;AAMAb,OAAGc,GAAH,CAAO,UAAP,EAAmB,YAAM;AACxBV,gBAAWW,MAAX;AACA,KAFD;;AAIAnB,aAASW,QAAT,EAAmBP,EAAnB;AACA;AAzBK,GAAP;AA2BA,EA5B6B,CAA9B;AA6BA,CAlCD","file":"iframe.js","sourcesContent":["/**\n * @author <contact@dannycoulombe.com>\n */\n(function() {\n\t\n\t/**\n\t * iFrame directive\n\t */\n\tZemit.app.directive('iframe', ['$compile', function($compile) {\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\tscope: true,\n\t\t\tlink: function($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$s.loading = true;\n\t\t\t\t\n\t\t\t\tvar $container = angular.element('<div class=\"zm-iframe-container\" />');\n\t\t\t\tvar $loading = angular.element('<zm-loading visible=\"loading\" />');\n\t\t\t\t\n\t\t\t\t$e.wrap($container);\n\t\t\t\t$e.before($loading);\n\t\t\t\t\n\t\t\t\t$e.addClass('zm-invisible');\n\t\t\t\t$e[0].onload = () => {\n\t\t\t\t\t$e.removeClass('zm-invisible');\n\t\t\t\t\t$s.loading = false;\n\t\t\t\t\t$s.$digest();\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$s.$on('$destroy', () => {\n\t\t\t\t\t$container.remove();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$compile($loading)($s);\n\t\t\t}\n\t\t};\n\t}]);\n})();"]}