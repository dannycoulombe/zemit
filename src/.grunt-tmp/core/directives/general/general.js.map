{"version":3,"sources":["general.js"],"names":["Zemit","app","directive","$session","$timeout","restrict","link","$s","$e","attrs","options","$eval","zmScrollable","settings","get","settingsOpts","key","y","x","prepare","addEventListener","event","scrollLeft","scrollTop","addClass","direction","transclude","template","scope","visible","$container","children","toggleClass","styling","height","setTimeout","$watch","nv","ov","outerHeight","removeClass","$animate","$compile","multiElement","priority","terminal","$$tlb","ctrl","getBlockNodes","nodes","node","endNode","length","blockNodes","i","nextSibling","jqLite","slice","call","push","block","childScope","previousElements","zmIf","ngIfWatchAction","value","clone","newScope","$$createComment","enter","parent","callback","remove","$destroy","leave","done","response","timeout","parseInt","zmIfTimeout","$hook","configs","zmFadeOutKill","hook","add","zmInvisible","bool","zmVisible","namespace","name","on","isDropHover","param","html","contents","$device","$document","$parse","$util","s4","eventName","zmActionOutsideEvent","eventHandler","target","hasClass","$target","angular","element","is","closest","$digest","events","enable","disable","off","$on","preventDefault","click","applyClasses"],"mappings":"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","file":"general.js","sourcesContent":["/**\n * @author <contact@dannycoulombe.com>\n */\n(function() {\n\t\n\t/**\n\t * Slide Down\n\t */\n\tZemit.app.directive('zmScrollable', ['$session', '$timeout', function($session, $timeout) {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tlet options = $s.$eval(attrs.zmScrollable);\n\t\t\t\tlet settings = $session.get('settings');\n\t\t\t\t\n\t\t\t\tlet settingsOpts = {};\n\t\t\t\tsettingsOpts[options.key] = {\n\t\t\t\t\ty: 0,\n\t\t\t\t\tx: 0\n\t\t\t\t};\n\t\t\t\t$session.prepare('settings', {\n\t\t\t\t\tzmScrollable: settingsOpts\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$e[0].addEventListener('scroll', (event) => {\n\t\t\t\t\t\n\t\t\t\t\tsettings.zmScrollable[options.key].x = $e[0].scrollLeft;\n\t\t\t\t\tsettings.zmScrollable[options.key].y = $e[0].scrollTop;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$timeout(() => {\n\t\t\t\t\t$e[0].scrollLeft = settings.zmScrollable[options.key].x;\n\t\t\t\t\t$e[0].scrollTop = settings.zmScrollable[options.key].y;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$e.addClass('zm-scrollable-' + options.direction);\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Slide Down\n\t */\n\tZemit.app.directive('zmSlideY', ['$timeout', function($timeout) {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\ttransclude: true,\n\t\t\ttemplate: '<div class=\"zm-slide-container zm-slide\" ng-style=\"styling\"><div class=\"zm-slide-inner\" ng-transclude></div></div>',\n\t\t\tscope: {\n\t\t\t\tvisible: '=zmSlideY'\n\t\t\t},\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tlet $container = $e.children();\n\t\t\t\t$container.toggleClass('zm-slide-restricted', !$s.visible);\n\t\t\t\t\n\t\t\t\t$s.styling = {\n\t\t\t\t\t// zIndex: 0,\n\t\t\t\t\theight: !$s.visible ? 0 : null\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t$timeout(() => {\n\t\t\t\t\t\n\t\t\t\t\t$s.styling = {\n\t\t\t\t\t\theight: $s.visible\n\t\t\t\t\t\t\t? null\n\t\t\t\t\t\t\t: 0\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// To prevent animation at load-time\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t$container.addClass('zm-slide-animate');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$s.$watch('visible', (nv, ov) => {\n\t\t\t\t\tif(nv !== ov) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet height = $container.children().outerHeight(true);\n\t\t\t\t\t\t$container.addClass('zm-slide-restricted');\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(!nv) {\n\t\t\t\t\t\t\t$s.styling.height = height;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// $s.styling.zIndex = !nv ? 0 : null;\n\t\t\t\t\t\t\n\t\t\t\t\t\t$timeout(() => {\n\t\t\t\t\t\t\t$s.styling.height = nv ? height : 0;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t$s.styling.height = nv ? null : 0;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif(nv) {\n\t\t\t\t\t\t\t\t\t$container.removeClass('zm-slide-restricted');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, 250);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * If condition\n\t */\n\tZemit.app.directive('zmIf', ['$animate', '$compile', function($animate, $compile) {\n\t\treturn {\n\t\t\tmultiElement: true,\n\t\t\ttransclude: 'element',\n\t\t\tpriority: 600,\n\t\t\tterminal: true,\n\t\t\trestrict: 'A',\n\t\t\t$$tlb: true,\n\t\t\tlink: function ($s, $e, attrs, ctrl, transclude) {\n\t\t\t\t\n\t\t\t\tfunction getBlockNodes(nodes) {\n\t\t\t\t\t// TODO(perf): update `nodes` instead of creating a new object?\n\t\t\t\t\tvar node = nodes[0];\n\t\t\t\t\tvar endNode = nodes[nodes.length - 1];\n\t\t\t\t\tvar blockNodes;\n\t\t\t\t\n\t\t\t\t\tfor (var i = 1; node !== endNode && (node = node.nextSibling); i++) {\n\t\t\t\t\t\tif (blockNodes || nodes[i] !== node) {\n\t\t\t\t\t\t\tif (!blockNodes) {\n\t\t\t\t\t\t\t\tblockNodes = jqLite(slice.call(nodes, 0, i));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tblockNodes.push(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\treturn blockNodes || nodes;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar block, childScope, previousElements;\n\t\t\t\t$s.$watch(attrs.zmIf, function ngIfWatchAction(value) {\n\t\t\t\t\t\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tif (!childScope) {\n\t\t\t\t\t\t\ttransclude(function(clone, newScope) {\n\t\t\t\t\t\t\t\tchildScope = newScope;\n\t\t\t\t\t\t\t\tclone[clone.length++] =\n\t\t\t\t\t\t\t\t\t$compile.$$createComment('end ngIf', attrs.zmIf);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tblock = { clone: clone };\n\t\t\t\t\t\t\t\t$animate.enter(clone, $e.parent(), $e);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet callback = () => {\n\t\t\t\t\t\t\tif (previousElements) {\n\t\t\t\t\t\t\t\tpreviousElements.remove();\n\t\t\t\t\t\t\t\tpreviousElements = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (childScope) {\n\t\t\t\t\t\t\t\tchildScope.$destroy();\n\t\t\t\t\t\t\t\tchildScope = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (block) {\n\t\t\t\t\t\t\t\tpreviousElements = getBlockNodes(block.clone);\n\t\t\t\t\t\t\t\t$animate.leave(previousElements).done(function(response) {\n\t\t\t\t\t\t\t\t\tif (response !== false) previousElements = null;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tblock = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet timeout = parseInt($s.$eval(attrs.zmIfTimeout)) === 0 ? 0 : 250;\n\t\t\t\t\t\ttimeout > 0 ? setTimeout(callback, timeout) : callback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Fade-Out Kill directives\n\t */\n\tZemit.app.directive('zmFadeOutKill', ['$hook', function($hook) {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tconfigs: '=?zmFadeOutKill'\n\t\t\t},\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tlet configs = $s.configs || {\n\t\t\t\t\ttimeout: 250\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tlet callback = () => {\n\t\t\t\t\t\n\t\t\t\t\tlet timeout = attrs.zmFadeOutKill;\n\t\t\t\t\tsetTimeout(() => {;\n\t\t\t\t\t\t$e.addClass('zm-hide');\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t$e.remove();\n\t\t\t\t\t\t}, configs.timeout);\n\t\t\t\t\t}, configs.timeout);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif(configs.hook) {\n\t\t\t\t\t$hook.add(configs.hook, callback);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * General directives\n\t */\n\tZemit.app.directive('zmClickable', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$e.addClass('zm-clickable');\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Invisible directives\n\t */\n\tZemit.app.directive('zmInvisible', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$s.$watch(attrs.zmInvisible, function(bool) {\n\t\t\t\t\t$e.toggleClass('zm-invisible', bool);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Visible directives\n\t */\n\tZemit.app.directive('zmVisible', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$s.$watch(attrs.zmVisible, function(bool) {\n\t\t\t\t\t$e.toggleClass('zm-invisible', !bool);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * This directive solves the Angular other ng-dblclick directive\n\t * for touch-based device only.\n\t */\n\t// if(window.matchMedia('(pointer: coarse)').matches) {\n\t// \tZemit.app.directive('ngDblclick', [function() {\n\t\n\t// \t\tvar firstClickTime;\n\t// \t\tvar dblTapInterval = 300;\n\t// \t\tvar waitingSecondClick = false;\n\t\n\t// \t\treturn {\n\t// \t\t\trestrict: 'A',\n\t// \t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\t\n\t// \t\t\t\t$e.bind('click', function (e) {\n\t\n\t// \t\t\t\t\tif (!waitingSecondClick) {\n\t// \t\t\t\t\t\tfirstClickTime = (new Date()).getTime();\n\t// \t\t\t\t\t\twaitingSecondClick = true;\n\t\t\t\t\t\t\t\n\t// \t\t\t\t\t\tsetTimeout(function () {\n\t// \t\t\t\t\t\t\twaitingSecondClick = false;\n\t// \t\t\t\t\t\t}, dblTapInterval);\n\t// \t\t\t\t\t}\n\t// \t\t\t\t\telse {\n\t// \t\t\t\t\t\twaitingSecondClick = false;\n\t\n\t// \t\t\t\t\t\tvar time = (new Date()).getTime();\n\t// \t\t\t\t\t\tif (time - firstClickTime < dblTapInterval) {\n\t// \t\t\t\t\t\t\t$s.$apply(attrs.ngDblclick);\n\t// \t\t\t\t\t\t}\n\t// \t\t\t\t\t}\n\t// \t\t\t\t});\n\t// \t\t\t}\n\t// \t\t};\n\t// \t}]);\n\t// }\n\t\n\t/**\n\t * General directives\n\t */\n\tZemit.app.directive('zmZoomable', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$e.addClass('zm-zoomable');\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Accept widget inside\n\t */\n\tZemit.app.directive('zmAcceptWidgetInside', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tvar namespace = this.name;\n\t\t\t\t$e.addClass(namespace);\n\t\t\t\t\n\t\t\t\t$e.on('mouseout.' + namespace, function() {\n\t\t\t\t\t$s.isDropHover = false;\n\t\t\t\t});\n\t\t\t\t$e.on('mouseover.' + namespace, function(event) {\n\t\t\t\t\t$s.isDropHover = true;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t$s.$watch('dropInsideIsActivated', function(nv, ov) {\n\t\t\t\t\tif(nv !== ov) {\n\t\t\t\t\t\t$e.toggleClass('zm-drop-inside-activate', nv);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$s.$watch('dropInsideIsInvalid', function(nv, ov) {\n\t\t\t\t\tif(nv !== ov) {\n\t\t\t\t\t\t$e.toggleClass('zm-drop-inside-activate-invalid', nv);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Dynamically load directives\n\t */\n\tZemit.app.directive('zmDirective', ['$compile', function($compile) {\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\tlink: function($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tvar param = $s.$eval(attrs.name);\n\t\t\t\t$e.html('<' + param + '></' + param + '>');\n\t\t\t\t$compile($e.contents())($s);\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Run expression of the user clicks outside the element\n\t */\n\tZemit.app.directive('zmActionOutside', ['$device', '$document', '$parse', '$util', function($device, $document, $parse, $util) {\n\t\treturn {\n\t\t\trestrict: \"A\",\n\t\t\tlink: function($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tvar namespace = this.name + $util.s4();\n\t\t\t\tvar eventName = attrs.zmActionOutsideEvent || 'mousedown';\n\t\t\t\tvar eventHandler = function(event) {\n\t\t\t\t\t\n\t\t\t\t\tif(!event || !event.target\n\t\t\t\t\t|| $e.hasClass(\"ng-hide\")) {\n                        return;\n                    }\n                    \n                    var $target = angular.element(event.target);\n                    if($target.is($e) || $target.closest($e).length > 0) {\n                    \treturn;\n                    }\n\t\t\t\t\t\n                    // OK, the user clicked outside. Run the expression\n                    $parse(attrs['zmActionOutside'])($s, {\n                    \tevent: event\n                    });\n                    $s.$digest();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tvar events = {\n\t\t\t\t\tenable: function() {\n\t\t\t\t\t\t\n\t\t\t\t\t\tthis.disable();\n\t\t\t\t\t\t$document.on(eventName + '.' + namespace, eventHandler);\n\t\t\t\t\t},\n\t\t\t\t\tdisable: function() {\n\t\t\t\t\t\t$document.off(eventName + '.' + namespace);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tif(attrs['zmActionOutsideIf']) {\n\t\t\t\t\t$s.$watch(attrs['zmActionOutsideIf'], function(nv, ov) {\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(nv === ov) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tif(nv) {\n\t\t\t\t\t\t\t\tevents.enable();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\tevents.disable();\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$s.$on('$destroy', events.disable);\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Creates a button\n\t */\n\tZemit.app.directive('zmBtn', [function() {\n\t\treturn {\n\t\t\trestrict: \"E\",\n\t\t\tlink: function($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\t$e.addClass('zm-btn');\n\t\t\t\t$e.on('mousedown', function(event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t});\n\t\t\t\t$e.on('click', function(event) {\n\t\t\t\t\t$s.$eval(attrs.click);\n\t\t\t\t\t$s.$digest();\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\t}]);\n\t\n\t/**\n\t * Show/hide element\n\t */\n\tZemit.app.directive('zmVisible', [function() {\n\t\treturn {\n\t\t\trestrict: 'A',\n\t\t\tscope: {\n\t\t\t\tvisible: '=zmVisible'\n\t\t\t},\n\t\t\tlink: function ($s, $e, attrs) {\n\t\t\t\t\n\t\t\t\tvar applyClasses = function(visible) {\n\t\t\t\t\t\n\t\t\t\t\t$e.toggleClass('zm-visible', visible)\n\t\t\t\t\t  .toggleClass('zm-invisible', !visible);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$s.$watch('visible', function(nv, ov) {\n\t\t\t\t\tif(nv !== ov) {\n\t\t\t\t\t\tapplyClasses(nv);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tapplyClasses($s.visible);\n\t\t\t}\n\t\t};\n\t}]);\n})();"]}