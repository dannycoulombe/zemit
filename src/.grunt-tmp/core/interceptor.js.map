{"version":3,"sources":["interceptor.js"],"names":["Zemit","app","factory","$q","$hook","interceptor","totalQueries","config","run","response","reject","$httpProvider","interceptors","push"],"mappings":";;AAAAA,MAAMC,GAAN,CAAUC,OAAV,CAAkB,kBAAlB,EAAsC,CAAC,IAAD,EAAO,OAAP,EAAgB,UAASC,EAAT,EAAaC,KAAb,EAAoB;;AAEzE,KAAIC,cAAc;;AAEjBC,gBAAc,CAFG;;AAIjB,aAAW,iBAASC,MAAT,EAAiB;;AAE3B,QAAKD,YAAL;;AAEAF,SAAMI,GAAN,CAAU,eAAV,EAA2BD,MAA3B;;AAEA,UAAOA,MAAP;AACA,GAXgB;AAYjB,cAAY,kBAASE,SAAT,EAAmB;;AAE9B,QAAKH,YAAL;;AAEAF,SAAMI,GAAN,CAAU,gBAAV,EAA4BC,SAA5B;;AAEA,UAAOA,SAAP;AACA,GAnBgB;AAoBjB,kBAAgB,sBAASA,QAAT,EAAmB;;AAElC,QAAKH,YAAL;;AAEAF,SAAMI,GAAN,CAAU,gBAAV,EAA4BC,QAA5B;;AAEA,UAAON,GAAGO,MAAH,CAAUD,QAAV,CAAP;AACA,GA3BgB;AA4BjB,mBAAiB,uBAASA,QAAT,EAAmB;;AAEnC,QAAKH,YAAL;;AAEAF,SAAMI,GAAN,CAAU,iBAAV,EAA6BC,QAA7B;;AAEA,UAAON,GAAGO,MAAH,CAAUD,QAAV,CAAP;AACA;AAnCgB,EAAlB;;AAsCA,QAAOJ,WAAP;AACA,CAzCqC,CAAtC;;AA2CAL,MAAMC,GAAN,CAAUM,MAAV,CAAiB,UAASI,aAAT,EAAwB;AACxCA,eAAcC,YAAd,CAA2BC,IAA3B,CAAgC,kBAAhC;AACA,CAFD","file":"interceptor.js","sourcesContent":["Zemit.app.factory('$httpInterceptor', ['$q', '$hook', function($q, $hook) {\n\n\tlet interceptor = {\n\t\t\n\t\ttotalQueries: 0,\n\t\t\n\t\t'request': function(config) {\n\t\t\t\n\t\t\tthis.totalQueries++;\n\t\t\t\n\t\t\t$hook.run('onHttpRequest', config);\n\t\t\t\n\t\t\treturn config;\n\t\t},\n\t\t'response': function(response) {\n\t\t\t\n\t\t\tthis.totalQueries--;\n\t\t\t\n\t\t\t$hook.run('onHttpResponse', response);\n\t\t\t\n\t\t\treturn response;\n\t\t},\n\t\t'requestError': function(response) {\n\n\t\t\tthis.totalQueries--;\n\t\t\t\n\t\t\t$hook.run('onRequestError', response);\n\n\t\t\treturn $q.reject(response);\n\t\t},\n\t\t'responseError': function(response) {\n\t\t\t\n\t\t\tthis.totalQueries--;\n\t\t\t\n\t\t\t$hook.run('onResponseError', response);\n\t\t\t\n\t\t\treturn $q.reject(response);\n\t\t}\n\t};\n\t\n\treturn interceptor;\n}]);\n\nZemit.app.config(function($httpProvider) {\n\t$httpProvider.interceptors.push('$httpInterceptor');\n});"]}