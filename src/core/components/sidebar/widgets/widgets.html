<div class="zm-sidebar-widgets zm-flex-container-column zm-h100">
		
	<div class="zm-flex-minimal">
		
		<!-- NOTICE -->
		<zm-dismissable type="info" key="zm-sidebar-widgets-hold">
			<span ng-if="device._isTouch && !device._isPrecise">{{ ::t('core.components.sidebar.widgets.noticesMobileDrag') }}</span>
			<span ng-if="device._isPrecise">{{ ::t('core.components.sidebar.widgets.noticesDesktopDrag') }}</span>
		</zm-dismissable>
		
		<!-- FILTER -->
		<div class="zm-p-2">
			<zm-field-input type="text" icon="search" placeholder="{{ ::t('core.components.sidebar.widgets.filterPlaceholder') }}" ng-model="filters.query" autofocus="on" />
			
			<!-- IF NO WIDGET FOUND -->
			<p ng-if="noWidgetsFound" style="text-align: center">
				{{ ::t('core.components.sidebar.widgets.noWidgetsFound') }}
			</p>
		</div>
	</div>
	
	<div class="zm-scrollable-y">
		
		<!-- TABS -->
		<div class="zm-sidebar-group" ng-if="section.widgets.length > 0" ng-repeat="(key, section) in sections">
			<div class="zm-sidebar-title zm-flex-container zm-flex-container-gap zm-flex-align-center" ng-click="$root.settings.sidebar.widgets.tabs[key].visible = !$root.settings.sidebar.widgets.tabs[key].visible">
				
				<span class="zm-sidebar-title-text">
					{{ ::section.title }}
				</span>
				
				<!-- TOTAL NODES -->
				<div class="zm-badge zm-flex-minimal">
					{{ section.widgets.length }}
				</div>
				
				<!-- CHEVRON -->
				<i class="fa zm-pull-right zm-flex-minimal" ng-class="{'fa-chevron-down': $root.settings.sidebar.widgets.tabs[key].visible, 'fa-chevron-right': !$root.settings.sidebar.widgets.tabs[key].visible}"></i>
			</div>
			<zm-field class="zm-sidebar-content zm-p-2" ng-show="$root.settings.sidebar.widgets.tabs[key].visible">
				<div ng-if="section.widgets.length > 0" class="zm-flex-container zm-flex-container-gap zm-flex-equal-size">
					
					<!-- LIST OF ITEMS (REPEAT) -->
					<div zm-draggable="draggableOptions" zm-draggable-item="dragWidget" ng-init="dragWidget = { type: widget.type }" class="zm-sidebar-widgets-item zm-widget-item" ng-repeat="widget in section.widgets">
						<div class="zm-vertical-align-middle">
							
							<!-- ICON -->
							<div class="zm-sidebar-widgets-item-icon" ng-if="widget.icon">
								<i class="fa fa-{{ ::widget.icon }}"></i>
							</div>
							
							<!-- TITLE -->
							<h4 class="zm-sidebar-widgets-item-title" ng-if="widget.title">
								{{ widget.title }}
							</h4>
							
							<!-- DESCRIPTION -->
							<p ng-if="settings.directives.dismissable.visible" class="zm-sidebar-widgets-item-desc" ng-if="widget.desc">
								{{ widget.desc }}
							</p>
						</div>
					</div>
				</div>
			</zm-field>
		</div>
	</div>
</div>